import{z as n}from"./index-CzOwh0Y-.js";import{a as s}from"./api-azpJ1gXh.js";const m=n("authAdmin",{state:()=>({token:localStorage.getItem("admin_token")||"",loading:!1,error:""}),actions:{async login(a,r){var e,o;this.loading=!0,this.error="";try{const t=await s.post("admin/login",{email:a,password:r});return this.token=t.data.token,localStorage.setItem("admin_token",this.token),!0}catch(t){return this.error=((o=(e=t.response)==null?void 0:e.data)==null?void 0:o.message)||"خطأ في تسجيل الدخول",!1}finally{this.loading=!1}},logout(){this.token="",localStorage.removeItem("admin_token")}}});export{m as u};
